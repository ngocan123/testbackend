(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,t,a){},102:function(e,t,a){},176:function(e,t,a){"use strict";a.r(t);var n,l,r,c,o,s=a(0),i=a.n(s),m=a(20),u=a.n(m),h=a(11),d=a(12),p=a(15),b=a(13),g=a(16),E=(a(100),a(179)),v=a(180),f=a(178),y=(a(101),a(102),a(103),a(6)),k=a(29),N=a(8),O=a(83),j=a.n(O).a.create({baseURL:"http://localhost:3008/api/",timeout:1e4,withCredentials:!0}),w=(localStorage.getItem("token"),function(e){function t(e){var a;Object(h.a)(this,t);(a=Object(p.a)(this,Object(b.a)(t).call(this,e))).props.location.redirectfrom;return Object(N.a)(Object(N.a)(a)),a.state={posts:[],keyword:"",tags:[],alltags:[],page:1,limit:5},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("h1",null,"Trang ch\u1ee7"))}}]),t}(s.Component)),C=a(31),S=a.n(C),D=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(p.a)(this,Object(b.a)(t).call(this,e))).state={email:"",password:"",name:""},n=Object(N.a)(Object(N.a)(a)),a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"handleNameChange",value:function(e){n.setState({name:e.target.value})}},{key:"handleEmailChange",value:function(e){n.setState({email:e.target.value})}},{key:"handlePasswordChange",value:function(e){n.setState({password:e.target.value})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t={email:n.state.email,password:n.state.password,name:n.state.name};j.post("/admin/store",S.a.stringify(t)).then(function(e){n.props.history.push("/login")})}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("h2",null,"\u0110\u0103ng k\xfd"),i.a.createElement("br",null),i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,"Name"),i.a.createElement("input",{onChange:this.handleNameChange,type:"text",className:"form-control",id:"exampleInputName1","aria-describedby":"nameHelp",placeholder:"Enter name"})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,"Email address"),i.a.createElement("input",{onChange:this.handleEmailChange,type:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter email"})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,"Password"),i.a.createElement("input",{onChange:this.handlePasswordChange,type:"password",className:"form-control",id:"exampleInputPassword1",placeholder:"Password"})),i.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit")))}}]),t}(s.Component),I=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(p.a)(this,Object(b.a)(t).call(this,e))).state={email:"",password:""},l=Object(N.a)(Object(N.a)(a)),a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"handleEmailChange",value:function(e){l.setState({email:e.target.value})}},{key:"handlePasswordChange",value:function(e){l.setState({password:e.target.value})}},{key:"saveRegister",value:function(e){e.preventDefault();var t={email:l.state.email,password:l.state.password};j.post("auth/login",S.a.stringify(t)).then(function(e){1==e.data.auth&&(localStorage.setItem("token",e.data.token),j.defaults.headers.common["x-access-token"]=e.data.token,l.props.history.push({pathname:"/",redirectfrom:"login"}))}).catch(function(e){alert("Username password mismatch"),console.log(e)})}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("form",{onSubmit:this.saveRegister},i.a.createElement("br",null),i.a.createElement("h2",null,"Login"),i.a.createElement("br",null),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,"Email address"),i.a.createElement("input",{onChange:this.handleEmailChange,type:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter email"})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,"Password"),i.a.createElement("input",{onChange:this.handlePasswordChange,type:"password",className:"form-control",id:"exampleInputPassword1",placeholder:"Password"})),i.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit")))}}]),t}(s.Component),T=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(p.a)(this,Object(b.a)(t).call(this,e))).state={products:[],author:""},r=Object(N.a)(Object(N.a)(a)),a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.getDatas()}},{key:"getDatas",value:function(){j.get("/product/getAll?author="+r.state.author).then(function(e){console.log(e),r.setState({products:e.data})})}},{key:"deletePost",value:function(e){j.post("/product/remove",{_id:e}).then(function(e){r.getDatas()})}},{key:"tabRows",value:function(){return r.state.products.map(function(e,t){return i.a.createElement("tr",{key:t},i.a.createElement("td",null,e.name),i.a.createElement("td",null,e.description),i.a.createElement("td",null,e.author?e.author.email:"Ch\u01b0a x\xe1c \u0111\u1ecbnh"),i.a.createElement("td",null,i.a.createElement(y.b,{className:"nav-link",to:"/edit-product/"+e._id},i.a.createElement("button",{className:"btn btn-sm btn-success"},"S\u1eeda")),i.a.createElement("button",{className:"btn btn-sm btn-danger inline",onClick:function(){return r.deletePost(e._id)}},"X\xf3a")))})}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"header-content clearfix"},i.a.createElement("h1",null,"Danh s\xe1ch s\u1ea3n ph\u1ea9m"),i.a.createElement(y.b,{className:"nav-link",to:"/create/product"},i.a.createElement("button",{className:"btn btn-sm btn-success flor"},"Th\xean s\u1ea3n ph\u1ea9m"))),i.a.createElement("div",{className:"h15"}),i.a.createElement("table",{className:"table table-hover table-border"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"T\xean"),i.a.createElement("th",null,"M\xf4 t\u1ea3"),i.a.createElement("th",null,"Danh m\u1ee5c"),i.a.createElement("th",null,"Tr\u1ea1ng th\xe1i"),i.a.createElement("th",null,"H\xe0nh \u0111\u1ed9ng"))),i.a.createElement("tbody",null,this.tabRows())))}}]),t}(s.Component),x=a(41),P=a.n(x),_=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(p.a)(this,Object(b.a)(t).call(this,e))).tagsSelectChange=function(e){c.setState({tags:e})},a.state={name:"",description:"",tags:[],alltags:[],author:""},c=Object(N.a)(Object(N.a)(a)),a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"changeTitle",value:function(e){c.setState({name:e.target.value})}},{key:"changeDescription",value:function(e){c.setState({description:e.target.value})}},{key:"componentDidMount",value:function(){j.get("/product/getAllTags").then(function(e){c.setState({alltags:e.data})})}},{key:"savePost",value:function(){var e={name:c.state.name,description:c.state.description,tags:c.state.tags,author:c.state.author};e.tags=e.tags.map(function(e){return e.label}),j.post("/product/saveProductAndTag",e).then(function(e){c.props.history.push("/product")})}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("hr",null),i.a.createElement("h1",null,"Th\xeam s\u1ea3n ph\u1ea9m"),i.a.createElement("br",null),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,"Title"),i.a.createElement("input",{onChange:this.changeTitle,name:"name",type:"text",className:"form-control",id:"name","aria-describedby":"name",placeholder:"Enter name"})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,"Description"),i.a.createElement("input",{onChange:this.changeDescription,name:"description",type:"email",className:"form-control",id:"description","aria-describedby":"description",placeholder:"Enter Description"})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,"Tags"),i.a.createElement(P.a,{isClearable:!0,onChange:this.tagsSelectChange,options:this.state.alltags,isMulti:!0})),i.a.createElement("button",{type:"submit",onClick:this.savePost,className:"btn btn-primary"},"Submit"),i.a.createElement("hr",null))}}]),t}(s.Component),M=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(p.a)(this,Object(b.a)(t).call(this,e))).tagsSelectChange=function(e){o.setState({tags:e})},a.state={_id:"",name:"",description:"",tags:[],alltags:[],author:""},o=Object(N.a)(Object(N.a)(a)),a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"changeTitle",value:function(e){o.setState({name:e.target.value})}},{key:"changeDescription",value:function(e){o.setState({description:e.target.value})}},{key:"componentDidMount",value:function(){o.setState({_id:o.props.match.params.id}),j.get("/product/show/"+o.props.match.params.id).then(function(e){var t=e.data.tags.map(function(e,t){return{value:e._id,label:e.label}});o.setState({name:e.data.name,description:e.data.description,tags:t})}),j.get("/product/getAllTags").then(function(e){o.setState({alltags:e.data})}),setTimeout(function(){j.get("/auth/checkToken").then(function(e){o.setState({author:e.data.id})}).catch(function(e){o.props.history.push("/login")})},1500)}},{key:"savePost",value:function(){var e={_id:o.state._id,name:o.state.name,description:o.state.description,tags:o.state.tags,author:o.state.author};e.tags=e.tags.map(function(e){return e.label}),j.post("/product/saveProductAndTagAsync",e).then(function(e){o.props.history.push("/product")})}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("hr",null),i.a.createElement("h1",null,"Edit s\u1ea3n ph\u1ea9m"),i.a.createElement("br",null),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,"Title"),i.a.createElement("input",{value:o.state.name,onChange:this.changeTitle,name:"name",type:"text",className:"form-control",id:"name","aria-describedby":"name",placeholder:"Enter name"})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,"Description"),i.a.createElement("input",{value:o.state.description,onChange:this.changeDescription,name:"description",type:"email",className:"form-control",id:"description","aria-describedby":"description",placeholder:"Enter Description"})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,"Tags"),i.a.createElement(P.a,{isClearable:!0,onChange:this.tagsSelectChange,options:this.state.alltags,isMulti:!0,value:o.state.tags})),i.a.createElement("button",{type:"submit",onClick:this.savePost,className:"btn btn-primary"},"Submit"),i.a.createElement("hr",null))}}]),t}(s.Component),A=localStorage.getItem("token"),R=function(e){function t(){return Object(h.a)(this,t),Object(p.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(d.a)(t,[{key:"ShowLogin",value:function(){var e=i.a.createElement(y.b,{className:"nav-link",to:"/login"},"\u0110\u0103ng nh\u1eadp");return A&&(e=i.a.createElement("a",{className:"nav-link",href:"/login",onClick:this.logout},"\u0110\u0103ng xu\u1ea5t")),e}},{key:"logout",value:function(){localStorage.removeItem("token"),this.history.push("/login")}},{key:"showRegisterOrPost",value:function(){var e=i.a.createElement(y.b,{className:"nav-link",to:"/register"},"\u0110\u0103ng k\xfd");return A&&(e=i.a.createElement(y.b,{className:"nav-link",to:"/product"},"S\u1ea3n ph\u1ea9m")),e}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"container"},i.a.createElement(E.a,{bg:"light",expand:"lg"},i.a.createElement(E.a.Brand,null,i.a.createElement(y.b,{className:"nav-link",to:"/"},"Dashboard")),i.a.createElement(E.a.Toggle,{"aria-controls":"basic-navbar-nav"}),i.a.createElement(E.a.Collapse,{id:"basic-navbar-nav"},i.a.createElement(v.a,{className:"mr-auto"},i.a.createElement(f.a,{title:"Qu\u1ea3n l\xfd t\xe0i kho\u1ea3n",id:"basic-nav-dropdown"},i.a.createElement(f.a.Item,null,i.a.createElement(y.b,{to:"/product"},"Danh s\xe1ch s\u1ea3n ph\u1ea9m")),i.a.createElement(f.a.Item,null,i.a.createElement(y.b,{to:"/catproduct"},"Danh m\u1ee5c s\u1ea3n ph\u1ea9m")),i.a.createElement(f.a.Item,null,i.a.createElement(y.b,null,"Nh\xe0 s\u1ea3n xu\u1ea5t"))),i.a.createElement(f.a,{title:"Qu\u1ea3n l\xfd s\u1ea3n ph\u1ea9m",id:"basic-nav-dropdown"},i.a.createElement(f.a.Item,null,i.a.createElement(y.b,{to:"/product"},"Danh s\xe1ch s\u1ea3n ph\u1ea9m")),i.a.createElement(f.a.Item,null,i.a.createElement(y.b,{to:"/catproduct"},"Danh m\u1ee5c s\u1ea3n ph\u1ea9m")),i.a.createElement(f.a.Item,null,i.a.createElement(y.b,{to:"/"},"Nh\xe0 s\u1ea3n xu\u1ea5t"))),i.a.createElement(f.a,{title:"C\u1ea5u h\xecnh h\u1ec7 th\u1ed1ng",id:"basic-nav-dropdown"},i.a.createElement(f.a.Item,null,i.a.createElement(y.b,{to:"/"},"C\xe0i \u0111\u1eb7t chung")),i.a.createElement(f.a.Item,null,i.a.createElement(y.b,{to:"/"},"Danh m\u1ee5c s\u1ea3n ph\u1ea9m")),i.a.createElement(f.a.Item,null,i.a.createElement(y.b,{to:"/"},"Nh\xe0 s\u1ea3n xu\u1ea5t"))),i.a.createElement(f.a,{title:"Th\xf4ng tin c\xe1 nh\xe2n",id:"basic-nav-dropdown"},i.a.createElement(f.a.Item,null,i.a.createElement(y.b,{to:"/"},"C\xe0i \u0111\u1eb7t chung")),i.a.createElement(f.a.Item,null,i.a.createElement(y.b,{to:"/"},"Danh m\u1ee5c s\u1ea3n ph\u1ea9m")),i.a.createElement(f.a.Item,null,i.a.createElement(y.b,{to:"/"},"Nh\xe0 s\u1ea3n xu\u1ea5t")),i.a.createElement(f.a.Divider,null),i.a.createElement(f.a.Item,null,i.a.createElement(y.b,{to:"/"},"Nh\xe0 s\u1ea3n xu\u1ea5t")))))),i.a.createElement(k.c,null,i.a.createElement(k.a,{exact:!0,path:"/",component:w}),i.a.createElement(k.a,{path:"/register",component:D}),i.a.createElement(k.a,{path:"/auth/login",component:I}),i.a.createElement(k.a,{path:"/product",component:T}),i.a.createElement(k.a,{path:"/create/product",component:_}),i.a.createElement(k.a,{path:"/edit/product/:id",component:M}))))}}]),t}(s.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));localStorage.getItem("token")&&(j.defaults.headers.common["x-access-token"]=localStorage.getItem("token"),j.get("auth/checkToken").then(function(e){localStorage.setItem("user_id",e.data.id)}).catch(function(e){localStorage.removeItem("token")})),u.a.render(i.a.createElement(y.a,null,i.a.createElement(R,null)),document.getElementById("root"))},95:function(e,t,a){e.exports=a(176)}},[[95,1,2]]]);
//# sourceMappingURL=main.e41f5836.chunk.js.map